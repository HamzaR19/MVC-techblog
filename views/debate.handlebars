{{!-- Project Cards --}}
{{#each projects}}
<div class="card mb-3">
  <div class="card-body">
    <h2 class="card-title">{{name}}</h2>
    <p class="card-text">{{description}}</p>
    <div class="card-text text-muted">Created by {{user.name}} on {{format_date date_created}}</div>
    <div class="btn-group" role="group">
      {{!-- Add buttons here if needed --}}
    </div>
    <div class="card-text">
      {{!-- Additional project details or content can go here --}}
    </div>
  </div>
</div>

<!-- Comment Section -->
<div class="comment-section">
  <h3>Comments</h3>
  <form id="commentForm-{{this.id}}">
    <input type="text" id="commentInput-{{this.id}}" placeholder="Write a comment...">
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <ul id="commentList-{{this.id}}"></ul>
</div>

{{!-- Comment Script --}}
<script>
  // Function to create a new comment element
  function createCommentElement(commentText) {
    const newComment = document.createElement('li');
    newComment.textContent = commentText;
    return newComment;
  }

  // Add an event listener to the comment form
  document.getElementById('commentForm-{{this.id}}').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent the default form submission

    // Get the comment input value
    const commentInput = document.getElementById('commentInput-{{this.id}}');
    const commentText = commentInput.value;

    // Create a new comment element
    const commentList = document.getElementById('commentList-{{this.id}}');
    const newComment = createCommentElement(commentText);
    commentList.appendChild(newComment);

    // Clear the comment input
    commentInput.value = '';
  });
</script>
{{/each}}
